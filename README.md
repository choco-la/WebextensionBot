# WebextensionBot

ブラウザ上で動作するMastodon用のBotです。WebSocketを利用した動作を実行します。

## インストール

```bash
npm install
# ミュートしたい正規表現リスト
mv ts/secret-sample.ts ts/secret.ts
npm run build
# トークンを書き込む
sed -i 's/ACCESS_TOKEN/XXXXXXXX/' ./webext/botstreaming.js
# webext/ 以下をブラウザで読み込む
```

## 主な機能

| 機能               | 詳細                                                                                   |
| ----------------- | -------------------------------------------------------------------------------------- |
| 計算               | "calc: (計算式)"の形式でメンションを送ると、[eval()](ts/evalcalc.ts)を用いた結果を返します。    |
| フォローバック      | フォローされた時、こちらからフォロー状態でなければフォローを返します。                             |
| おみくじ           | !omikujiとトゥートあるいはメンションすると、おみくじの結果をリプライで返します。                   |
| リプライ           | メンションを受け取った時、複数のパターンからランダムな内容を返信します。                           |
